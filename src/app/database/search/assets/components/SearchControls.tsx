import React from "react";
import Link from "next/link";
import AssetTypeDropdown from "./AssetTypeDropdown";
import SearchInput from "./SearchInput";

interface SearchControlsProps {
  assetOptions: any[];
  currentAssetOption: any;
  onAssetSelect: (value: string) => void;
  initialQuery: string;
  resetSignal: number;
  onSearchLocked: () => void;
  onQueryCommit: (query: string) => void;
  onReset: () => void;
}

const SearchControls = ({
  assetOptions,
  currentAssetOption,
  onAssetSelect,
  initialQuery,
  resetSignal,
  onSearchLocked,
  onQueryCommit,
  onReset,
}: SearchControlsProps) => {
  return (
    <div className="bg-primaryBlue-100 rounded-t-lg flex flex-col lg:flex-row gap-4 items-center justify-between px-6 py-4 border-b border-primary-default">
      <AssetTypeDropdown
        options={assetOptions}
        currentOption={currentAssetOption}
        onSelect={onAssetSelect}
      />

      <div className="flex items-center w-full py-3 px-4 bg-white rounded-lg border border-Gray-500">
        <span className="mr-2 text-textColor-Tertiary">
          <svg
            width={24}
            height={24}
            viewBox="0 0 24 24"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
            className="flex-grow-0 flex-shrink-0 w-6 h-6 relative"
            preserveAspectRatio="xMidYMid meet"
          >
            <path
              fillRule="evenodd"
              clipRule="evenodd"
              d="M4.66566 4.66566C6.21289 3.11843 8.31138 2.24921 10.4995 2.24921C12.6876 2.24921 14.7861 3.11843 16.3333 4.66566C17.8805 6.21289 18.7498 8.31138 18.7498 10.4995C18.7498 12.4362 18.0688 14.3027 16.8395 15.7788L21.5303 20.4697C21.8232 20.7626 21.8232 21.2374 21.5303 21.5303C21.2374 21.8232 20.7626 21.8232 20.4697 21.5303L15.7788 16.8395C14.3027 18.0688 12.4362 18.7498 10.4995 18.7498C8.31138 18.7498 6.21289 17.8805 4.66566 16.3333C3.11843 14.7861 2.24921 12.6876 2.24921 10.4995C2.24921 8.31138 3.11843 6.21289 4.66566 4.66566ZM10.4995 3.74921C8.7092 3.74921 6.99224 4.46039 5.72632 5.72632C4.46039 6.99224 3.74921 8.7092 3.74921 10.4995C3.74921 12.2898 4.46039 14.0067 5.72632 15.2727C6.99224 16.5386 8.7092 17.2498 10.4995 17.2498C12.2898 17.2498 14.0067 16.5386 15.2727 15.2727C16.5386 14.0067 17.2498 12.2898 17.2498 10.4995C17.2498 8.7092 16.5386 6.99224 15.2727 5.72632C14.0067 4.46039 12.2898 3.74921 10.4995 3.74921Z"
              fill="#101828"
            />
          </svg>
        </span>
        <SearchInput
          initialQuery={initialQuery}
          resetSignal={resetSignal}
          onLock={onSearchLocked}
          onQueryCommit={onQueryCommit}
        />
      </div>

      <div className="w-full lg:w-fit flex justify-between lg:justify-normal flex-shrink-0 items-center gap-4">
        <div className="flex items-center h-8">
          <button className="flex items-center gap-1 min-w-[88px] px-4 py-2 rounded-lg text-sm1 font-medium text-primary-hovered">
            <svg
              width={24}
              height={24}
              viewBox="0 0 24 24"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
              className="flex-grow-0 flex-shrink-0 w-6 h-6 relative"
              preserveAspectRatio="none"
            >
              <path
                d="M7.75 8C7.33579 8 7 8.33579 7 8.75C7 9.16421 7.33579 9.5 7.75 9.5H14.25C14.6642 9.5 15 9.16421 15 8.75C15 8.33579 14.6642 8 14.25 8H7.75Z"
                fill="#007F8F"
              />
              <path
                d="M7 11.75C7 11.3358 7.33579 11 7.75 11H14.25C14.6642 11 15 11.3358 15 11.75C15 12.1642 14.6642 12.5 14.25 12.5H7.75C7.33579 12.5 7 12.1642 7 11.75Z"
                fill="#007F8F"
              />
              <path
                d="M7.75 14C7.33579 14 7 14.3358 7 14.75C7 15.1642 7.33579 15.5 7.75 15.5H14.25C14.6642 15.5 15 15.1642 15 14.75C15 14.3358 14.6642 14 14.25 14H7.75Z"
                fill="#007F8F"
              />
              <path
                d="M7 17.75C7 17.3358 7.33579 17 7.75 17H11.25C11.6642 17 12 17.3358 12 17.75C12 18.1642 11.6642 18.5 11.25 18.5H7.75C7.33579 18.5 7 18.1642 7 17.75Z"
                fill="#007F8F"
              />
              <path
                fillRule="evenodd"
                clipRule="evenodd"
                d="M11 1.25C9.83401 1.25 8.8375 1.97566 8.43747 3H8C7.44772 3 7 3.44772 7 4V4.25H5C4.0335 4.25 3.25 5.0335 3.25 6V20C3.25 20.9665 4.0335 21.75 5 21.75H14.4091C14.5832 21.9189 14.7808 22.0693 15.0004 22.1961C16.4353 23.0246 18.2701 22.5329 19.0985 21.0981L22.0985 15.9019C22.9269 14.467 22.4353 12.6323 21.0004 11.8038C20.2914 11.3945 19.4847 11.3074 18.75 11.4973V6C18.75 5.0335 17.9665 4.25 17 4.25H15V4C15 3.44772 14.5523 3 14 3H13.5625C13.1625 1.97566 12.166 1.25 11 1.25ZM11 2.75C10.7185 2.75 10.4588 2.84302 10.2499 3H11.7501C11.5412 2.84302 11.2815 2.75 11 2.75ZM17.25 12.4172V6C17.25 5.86193 17.1381 5.75 17 5.75H15V6C15 6.55228 14.5523 7 14 7H8C7.44772 7 7 6.55228 7 6V5.75H5C4.86193 5.75 4.75 5.86193 4.75 6V20C4.75 20.1381 4.86193 20.25 5 20.25H13.5721C13.4143 19.5422 13.5112 18.7756 13.9023 18.0981L16.9023 12.9019C17.004 12.7259 17.1207 12.5641 17.25 12.4172ZM8.5 4.5V5.5H13.5V4.5H8.5ZM16.5048 16.5905L15.2014 18.8481C14.7872 19.5655 15.033 20.4829 15.7504 20.8971C16.4679 21.3113 17.3852 21.0655 17.7995 20.3481L19.1029 18.0905L16.5048 16.5905ZM19.8529 16.7914L20.7995 15.1519C21.2137 14.4345 20.9679 13.5171 20.2504 13.1029C19.533 12.6887 18.6156 12.9345 18.2014 13.6519L17.2548 15.2914L19.8529 16.7914Z"
                fill="#007F8F"
              />
            </svg>
            Asset
          </button>
          <div className="w-px h-full bg-Gray-500 mx-1"></div>
          <Link
            href="/company-home"
            className="flex items-center gap-1 min-w-[88px] px-4 py-2 rounded-lg text-sm1 font-medium text-textColor-Tertiary"
          >
            <svg
              width={24}
              height={24}
              viewBox="0 0 24 24"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
              className="flex-grow-0 flex-shrink-0 w-6 h-6 relative"
              preserveAspectRatio="none"
            >
              <path
                fillRule="evenodd"
                clipRule="evenodd"
                d="M9.93562 4.06518C9.93562 3.09869 10.7191 2.31519 11.6856 2.31519H19.4822C20.4487 2.31519 21.2322 3.09869 21.2322 4.06519V19.4815C21.2322 20.448 20.4487 21.2315 19.4822 21.2315L4.06543 21.2315C3.09893 21.2315 2.31543 20.448 2.31543 19.4815V10.5963C2.31543 9.62982 3.09893 8.84632 4.06543 8.84632H9.93562V4.06518ZM19.4822 19.7315H11.6856C11.548 19.731 11.4356 19.6193 11.4356 19.4815V4.06518C11.4356 3.92711 11.5476 3.81519 11.6856 3.81519H19.4822C19.6203 3.81519 19.7322 3.92711 19.7322 4.06519V19.4815C19.7322 19.6196 19.6203 19.7315 19.4822 19.7315ZM9.93562 19.4815C9.93562 19.5664 9.94167 19.6499 9.95335 19.7315H4.06543C3.92736 19.7315 3.81543 19.6196 3.81543 19.4815V10.5963C3.81543 10.4582 3.92736 10.3463 4.06543 10.3463H9.93562V19.4815ZM13.6785 7.41919C13.2276 7.41919 12.8621 7.7847 12.8621 8.23558C12.8621 8.68646 13.2276 9.05197 13.6785 9.05197H17.4882C17.9391 9.05197 18.3046 8.68646 18.3046 8.23558C18.3046 7.7847 17.9391 7.41919 17.4882 7.41919H13.6785ZM12.8621 11.5012C12.8621 11.0503 13.2276 10.6848 13.6785 10.6848H17.4882C17.9391 10.6848 18.3046 11.0503 18.3046 11.5012C18.3046 11.9521 17.9391 12.3176 17.4882 12.3176H13.6785C13.2276 12.3176 12.8621 11.9521 12.8621 11.5012ZM13.6785 13.9504C13.2276 13.9504 12.8621 14.316 12.8621 14.7668C12.8621 15.2177 13.2276 15.5832 13.6785 15.5832H17.4882C17.9391 15.5832 18.3046 15.2177 18.3046 14.7668C18.3046 14.316 17.9391 13.9504 17.4882 13.9504H13.6785Z"
                fill="#D9D9D9"
              />
              <path
                fillRule="evenodd"
                clipRule="evenodd"
                d="M19.4822 21.2315C20.4487 21.2315 21.2322 20.448 21.2322 19.4815V4.06519C21.2322 3.09869 20.4487 2.31519 19.4822 2.31519H11.6856C10.7191 2.31519 9.93562 3.09869 9.93562 4.06518V8.84632H4.06543C3.09893 8.84632 2.31543 9.62982 2.31543 10.5963V19.4815C2.31543 20.448 3.09893 21.2315 4.06543 21.2315L19.4822 21.2315ZM11.6856 19.7315C11.548 19.731 11.4356 19.6193 11.4356 19.4815V4.06518C11.4356 3.92711 11.5476 3.81519 11.6856 3.81519H19.4822C19.6203 3.81519 19.7322 3.92711 19.7322 4.06519V19.4815C19.7322 19.6196 19.6203 19.7315 19.4822 19.7315H11.6856ZM9.93562 19.4815C9.93562 19.5664 9.94167 19.6499 9.95335 19.7315H4.06543C3.92736 19.7315 3.81543 19.6196 3.81543 19.4815V10.5963C3.81543 10.4582 3.92736 10.3463 4.06543 10.3463H9.93562V19.4815ZM12.8621 8.23558C12.8621 7.7847 13.2276 7.41919 13.6785 7.41919H17.4882C17.9391 7.41919 18.3046 7.7847 18.3046 8.23558C18.3046 8.68646 17.9391 9.05197 17.4882 9.05197H13.6785C13.2276 9.05197 12.8621 8.68646 12.8621 8.23558ZM13.6785 10.6848C13.2276 10.6848 12.8621 11.0503 12.8621 11.5012C12.8621 11.9521 13.2276 12.3176 13.6785 12.3176H17.4882C17.9391 12.3176 18.3046 11.9521 18.3046 11.5012C18.3046 11.0503 17.9391 10.6848 17.4882 10.6848H13.6785ZM12.8621 14.7668C12.8621 14.316 13.2276 13.9504 13.6785 13.9504H17.4882C17.9391 13.9504 18.3046 14.316 18.3046 14.7668C18.3046 15.2177 17.9391 15.5832 17.4882 15.5832H13.6785C13.2276 15.5832 12.8621 15.2177 12.8621 14.7668Z"
                fill="#6B6E76"
              />
            </svg>
            Company
          </Link>
        </div>

        <button
          onClick={onReset}
          className="flex items-center gap-1 px-4 py-2 rounded-lg text-sm1 font-medium text-primary-default"
        >
          <svg
            width={24}
            height={24}
            viewBox="0 0 24 24"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
            className="flex-grow-0 flex-shrink-0 w-6 h-6 relative"
            preserveAspectRatio="none"
          >
            <path
              d="M12.0107 21C10.8287 21.0023 9.65802 20.7701 8.56633 20.3169C7.47465 19.8638 6.48369 19.1986 5.65074 18.36L3.75072 16.46V19.64C3.75072 19.8389 3.67171 20.0297 3.53105 20.1703C3.3904 20.311 3.19963 20.39 3.00072 20.39C2.80181 20.39 2.61104 20.311 2.47039 20.1703C2.32973 20.0297 2.25072 19.8389 2.25072 19.64V14.69C2.2447 14.5848 2.26124 14.4795 2.29918 14.3812C2.33712 14.2829 2.39561 14.1939 2.47075 14.12C2.61657 13.9875 2.80389 13.9097 3.00072 13.9H8.00072C8.19963 13.9 8.3904 13.979 8.53105 14.1197C8.67171 14.2603 8.75072 14.4511 8.75072 14.65C8.75072 14.8489 8.67171 15.0397 8.53105 15.1803C8.3904 15.321 8.19963 15.4 8.00072 15.4H4.83074L6.73076 17.3C7.66149 18.2315 8.82106 18.9016 10.0929 19.2428C11.3647 19.584 12.7039 19.5843 13.9759 19.2438C15.2479 18.9032 16.4078 18.2338 17.339 17.3028C18.2702 16.3717 18.94 15.212 19.2808 13.94C19.3051 13.8451 19.3481 13.756 19.4072 13.6779C19.4663 13.5998 19.5403 13.5342 19.625 13.4849C19.7096 13.4355 19.8033 13.4036 19.9004 13.3907C19.9975 13.3779 20.0962 13.3844 20.1907 13.41C20.2869 13.4345 20.3773 13.4777 20.4566 13.5373C20.5359 13.5969 20.6026 13.6717 20.6528 13.7573C20.703 13.8428 20.7358 13.9375 20.7492 14.0358C20.7626 14.1341 20.7563 14.2341 20.7308 14.33C20.3136 15.8426 19.5107 17.2209 18.4007 18.33C17.5647 19.175 16.5696 19.846 15.4728 20.3042C14.3761 20.7625 13.1994 20.999 12.0107 21ZM4.01073 10.61H3.82073C3.72547 10.5845 3.63619 10.5404 3.55797 10.4804C3.47976 10.4203 3.41415 10.3454 3.36492 10.2599C3.31569 10.1745 3.28378 10.0801 3.27105 9.98235C3.25832 9.88455 3.26505 9.78523 3.29076 9.69002C3.70378 8.16624 4.51032 6.7779 5.6295 5.66439C6.74869 4.55087 8.14112 3.75136 9.66698 3.34609C11.1928 2.94081 12.7985 2.94404 14.3227 3.35546C15.8469 3.76687 17.2361 4.57201 18.3508 5.69002L20.2507 7.59001V4.41002C20.2507 4.21111 20.3297 4.02034 20.4704 3.87969C20.611 3.73904 20.8018 3.66002 21.0007 3.66002C21.1996 3.66002 21.3904 3.73904 21.5311 3.87969C21.6717 4.02034 21.7507 4.21111 21.7507 4.41002V9.41002C21.7481 9.60813 21.6683 9.79739 21.5282 9.93749C21.3881 10.0776 21.1988 10.1574 21.0007 10.16H16.0007C15.8018 10.16 15.611 10.081 15.4704 9.94033C15.3297 9.79967 15.2507 9.60893 15.2507 9.41002C15.2507 9.21111 15.3297 9.02034 15.4704 8.87969C15.611 8.73904 15.8018 8.66002 16.0007 8.66002H19.1807L17.2808 6.75002C16.3493 5.81857 15.1891 5.14885 13.9166 4.80825C12.6442 4.46765 11.3044 4.46819 10.0323 4.8098C8.7601 5.15141 7.60033 5.82204 6.66967 6.75423C5.739 7.68642 5.07029 8.84728 4.73076 10.12C4.67844 10.2617 4.58459 10.3842 4.46147 10.4716C4.33836 10.5591 4.19173 10.6073 4.04076 10.61H4.01073Z"
              fill="#0192A4"
            />
          </svg>
          Reset
        </button>
      </div>
    </div>
  );
};

export default SearchControls;
